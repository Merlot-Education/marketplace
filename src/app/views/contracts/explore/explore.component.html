<div *ngIf="this.activePage.value.content.length !== 0">
<c-row [xl]="3">
    <c-col xs *ngFor="let contract of activePage.value.content">
      <c-card class="mb-4">
        <c-card-header><b>Vertrag</b>: {{ contract.id }}</c-card-header>
        <c-card-body>
          <c-row>
            <c-col>
              <ul class="list-group list-group-flush">
                <li class="list-group-item" style="border: none">
                    <strong>Erstelldatum:</strong><br />
                    {{ contract.creationDate }}
                </li>
                <li class="list-group-item" style="border: none">
                    <strong>Angebots-ID:</strong> <br />
                    {{ contract.offering.selfDescription.verifiableCredential.credentialSubject['@id'] }}
                </li>
                <li class="list-group-item" style="border: none" *ngIf="contract.providerId !== authService.activeOrganizationRole.value.orgaData.selfDescription.verifiableCredential.credentialSubject['@id']">
                  <strong>Serviceanbieter:</strong><br />
                  {{ contract.providerLegalName }}
                </li>
                <li class="list-group-item" style="border: none" *ngIf="contract.consumerId !== authService.activeOrganizationRole.value.orgaData.selfDescription.verifiableCredential.credentialSubject['@id']">
                    <strong>Kunde:</strong><br />
                    {{ contract.consumerLegalName }}
                  </li>
                <li class="list-group-item" style="border: none">
                    <strong>Servicename:</strong><br />
                    {{ contract.offering.selfDescription.verifiableCredential.credentialSubject['gax-trust-framework:name']['@value'] }}
                </li>
                <li class="list-group-item" style="border: none">
                  <strong>Status:</strong><br />
                  {{ contractApiService.resolveFriendlyStatusName(contract.state) }}
                </li>
              </ul>
              <div style="padding: 10px">
                <button type="button" class="btn btn-primary flex-item-grow" [cModalToggle]="'modalViewContract'" (click)="prepareEditContract(contract)">
                  <div *ngIf="contract.state === 'IN_DRAFT'">
                    Bearbeiten
                  </div>
                  <div *ngIf="contract.state !== 'IN_DRAFT'">
                    Details
                  </div>
                </button>
              </div>
            </c-col>
          </c-row>
        </c-card-body>
      </c-card>
    </c-col>
  </c-row>

  <app-paging-footer [currentPage]="activePage" (pageChangeEvent)="refreshContracts($event, ITEMS_PER_PAGE, authService.activeOrganizationRole.value.orgaData.selfDescription.verifiableCredential.credentialSubject['@id'])"></app-paging-footer>
</div>

<h1 *ngIf="this.activePage.value.content.length === 0">Es konnten keine Vertr√§ge gefunden werden.</h1>


<app-contractview [contractDetails]="contractTemplate" [availableConnectors]="orgaConnectors" (buttonClickCallback)="buttonClicked()"></app-contractview>